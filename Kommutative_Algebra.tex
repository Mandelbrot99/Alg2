\newpage
\section{Kommutative Algebra}
\begin{center}
	\textbf{In diesem Kapitel sei $A$ stets ein kommutativer Ring (mit Eins)}
\end{center}
\setcounter{subsection}{10}
\subsection{Grundlagen}
\begin{df}\label{11.1}
	$A$ heißt \define{lokal\index{lokal}} $\defi A$ besitzt genau ein maximales Ideal $\mathfrak{m}$. In diesem Fall heißt $k= \QR{A}{\mathfrak{m}}$ der \define{Restklassenkörper\index{Restklassenkörper}} von $A$.
\end{df}
\begin{bem}\label{11.2}
	Sei $\mathfrak{m}\subseteq A$ ein maximales Ideal. Dann sind äquivalent:
	\begin{enumerate}[label= \roman*)]
		\item $A$ ist lokal mit einem maximalen Ideal $\mathfrak{m}$
		\item $A\backslash \m \subseteq A^*$
		\item $A \backslash \m = A^*$
		\item $1+ \m \subseteq A^*$
	\end{enumerate}
\end{bem}
\begin{proof}
	$i) \Ra ii)$ Sei $x\in A\backslash \m$. Falls $x\notin A^*$, dann existiert nach Algebra 1 ein maximales Ideal $\tilde{\m} \subseteq A$ mit $x\in \m$. Insbesondere ist $\tilde{\m} \neq \m$, d.h. $A$ ist nicht lokal.\\
	$ii) \Ra i)$ Es gelte $A\backslash \m \subseteq A^*$. Sei $\a\subsetneq A$ ein Ideal. Dann ist $\a \cap A^*= \emptyset$, also $\a \cap (A\backslash \m) = \emptyset$. Damit ist $\a \subseteq \m$. Somit ist $\m$ das einzige maximale Ideal in $A$.\\
	$ii) \Ra iii)$ klar: $x\in A^* \Ra x\in A \backslash \m$.\\
	$iii) \Ra iv)$ Sei $x\in 1+ \m$. Falls $x\in \m$, dann ist $1\in \m$, Widerspruch! Also $x\in A \backslash \m \overset{iii)}{=} A^*$.\\
	$iv) \Ra ii)$ Es gelte $1+ \m \subseteq A^*$. Sei $x\in A \backslash m$. Dann ist $Ax+ \m$ ein Ideal mit $Ax+ \m \supsetneq \m$, also $Ax+ \m =(1)$. Damit existiert ein $a\in A, \, y\in \m$ mit $ax+y =1$, also $ax=1-y\in 1+ \m \subseteq A^* \Ra x\in A^*$.
\end{proof}
\begin{df}\label{11.3}
	Sei $x\in A$. $x$ heißt \define{nilpotent\index{nilpotentes Element}} $\defi$ Es existiert ein $n\in \N$ mit $x^n=0$.
\end{df}
\begin{anm}
	Ist $A\neq 0$, dann ist jedes nilpotentes Element ein Nullteiler, die Umkehrung ist im Allgemeinen jedoch falsch.
\end{anm}
\begin{bem+df}
	$$\NN(A) := \{x\in A|\, x\text{ ist nilpotent}\}$$
	ist ein Ideal in $A$, das \define{Nilradikal\index{Nilradikal}} in $A$. Der Ring $\QR{A}{\NN(A)}$ hat keine nilpotenten Elemente $\neq 0$.
\end{bem+df}
\begin{proof}
	\begin{enumerate}
		\item $\NN(A)$ ist ein Ideal:
		\begin{itemize}
			\item $0\in \NN(A)$
			\item Seien $x,y\in \NN(A)$. Dann existiert ein $n\in \N$ mit $x^n=0$ und $y^n=0$, womit $(x+y)^{2n-1} =0$ (aus der binomischen Formel) folgt. Damit ist $x+y \in \NN(A)$.
			\item Sei $x\in \NN(A)\, a\in A$. Dann existiert ein $n\in \N$ mit $x^n=0$, also $a^nx^n = (ax)^n=0$, womit $ax \in \NN(A)$ gilt.
		\end{itemize}
	\item Sei $\bar x \in \QR{A}{\NN(A)}$ nilpotent. Dann existiert ein $n\in \N$ mit $\bar x^n=0$, also $x^n \in \NN(A)$, also existiert ein $m\in \N$ mit $(x^n)^m=0$, also $x^{nm} = 0$, woraus $x\in \NN(A)$, also $\bar x=0$ folgt.
	\end{enumerate}
Damit folgt die Aussage
\end{proof}
\begin{sa}\label{11.5}
	Es gilt
	$$\NN(A) = \bigcap_{\p \subseteq A\atop \text{Primideal}} \p$$
\end{sa}
\begin{proof}
	Wir setzen $\NN'(A)= \bigcap\limits_{\p \subseteq A\atop \text{Primideal}} \p$. Zeige, dass $\NN(A) = \NN'(A)$.\\
	"'$\subseteq$"' Sei $x\in \NN(A)$. Dann existiert ein $n\in \N$ mit $x^n=0$. Für jedes Primideal $\p\subseteq A$ ist dann $x^n\in \p$, also $x\in \p$. Damit ist auch $x\in \NN'(A)$.\\
	"'$\supseteq$"' Angenommen es existiert ein $x\in \NN'(A) \backslash \NN(A)$. Dann gilt $x^n\neq 0$ für alle $n\in \N$. Setze
	$$\Sigma:= \{\a\in A \text{ Ideal}|\, x^n\notin \a \text{ für alle }n\in \N\}$$
	Dann ist $\Sigma$ eine bezüglich Inklusion induktiv geordnete Menge $\neq \emptyset$ (Standardargument mit $\cup$). Nach dem Zornschen Lemma existiert ein maximales Element $\p$ in $\Sigma$. Diese $\p$ ist ein Primideal, denn: Seien $s,t\notin \p$. Dann ist $\p \subsetneq As+ \p$ und $\p\subsetneq At+\p$. Also ist $as+ \p, \, At + \p \notin\Sigma$. Damit existieren $m,n\in \N$ mit $x^n\in As+\p, \, x^m \in At+ \p$. Also liegt $x^{n+m} \in Ast+ \p$, weshalb $Ast + \p \notin\Sigma$. Falls $st \in \p$, dann wäre $Ast + \p = \p \in \Sigma$, Widersprch! Also ist $st \notin \p$, also ist $\p$ ein Primideal. Wegen $\p \in \Sigma$ folgt $x\notin \p$, also $x\notin \NN'(A)$. Widerpsruch!
\end{proof}
\begin{bem} \label{11.6}
	Seinen $ \p_1, \dots \p_n $ Primideale in A, $\a \subseteq A $ Ideal mit $\a \subseteq \bigcup_{i = 0}^{n} \p_i$. Dann existiert ein $j \in \{1,\dots,n \} $ mit $ \a \subseteq \p_j$.
\end{bem}
\begin{proof}
	Zeigen per Induktion nach n: $ \a \not \subseteq \p_i $ für $ i = 1,...,n  \Ra \a \not \subseteq \bigcup_{i = 0}^{n} \p_i $. \\
	n=1: trivial\\
	$n>1$: Sei $\a \not \subseteq \p_i $ für $i = 1,...,n$ mit Induktionsvorrausetzung folgt: $\a \not \subseteq \p_1 \cup ... \cup \p_{i-1} \cup \p_{i+1} \cup ... \cup \p_n $ für alle $i=1,...,n  \Ra $ Für alle $ i = 1,...,n $ existiert ein $ x_i \in \a $ mit $ x_i \notin \p_j $ für $ j \neq i $ \\
	1.Fall: Es existiert ein $ i \in \{1,...n\} $ mit $ x_i \notin \p_i.$ Dann $x \notin \bigcup_{j = 0}^{n} \p_j, $ fertig. \\
	2.Fall: $x_i \in \p_i $ für alle $i \in \{1,...n\} $. Setze $ y:= \sum_{j=1}^{n} x_1 \cdot ... \cdot x_{j-1} \cdot x_{j+1}  \cdot ... \cdot x_n$  dann ist $y \in \a, y \notin \p_i $ für  alle $i \in \{1,...n\} $ ( "'Alle Summanden bis auf einen in $\p_i$"). Also $ \a \not \subseteq \bigcup_{i = 0}^{n} \p_i.$
\end{proof}
\begin{bem} \label{11.7}
	Seinen $ \a_1, \dots \a_n \subseteq A$ Ideale, $\p $ ein Primideal in $A$ mit $ \bigcap_{i = 0}^{n} \a_i \subseteq \p$. Dann existiert ein $j \in \{1,...n\} $ mit $\a_j  \subseteq \p$. Ist $\p =\bigcap_{i = 0}^{n} \a_i$, dann existiert ein $j \in \{1,...n\} $ mit $\a_j = \p$.
\end{bem}
\begin{proof}
	Annahme: für alle $i \in \{1,...n\} $gilt $ \a_i \not \subseteq \p. \Ra $ Für alle $i \in \{1,...n\} $ existiert ein $x_i \in \a_i, x_i \notin \p \Ra \underbrace{x_1 \cdot ... \cdot x_n}_{\notin \p, \ da \ \p \  Primideal} \in \bigcap_{i = 0}^{n} \a_i \subseteq \p. $ (Widerspruch)\\
	Sei nun $ y = \bigcap_{i = 0}^{n} \a_i \Ra $ 	Es existiert ein $j \in \{1,...n\} $ mit $ \a_j \subseteq \p.  \\
	\Ra \p =\bigcap_{i = 0}^{n} \a_i \subseteq \a_j \subseteq \p \Ra y = \a_j.$ 
\end{proof}
\begin{bem+df}
	Seinen $\a, \b \subseteq A $ Ideale, $a \in A $.
	\begin{itemize}
		\item[] $\a : \b := \{x \in A | \ x \b \subseteq \a \} $ heißt \define{Idealquotient} $\a $ durch $\b$. $\a : \b $ ist ein Ideal in $A$. 
		\item[] $ann(\a) := (0) : \a = \{x \in A | \ x \a = 0\} $ heißt der \define{Annulator} von $\a$.
		\item[] $ann(a) := ann((a)) = \{x \in A| \ xa = 0\} $.
	\end{itemize}
\end{bem+df}
\begin{anm}
	\begin{itemize}
		\item $\a \b \subseteq \c \defi \a \subseteq \c : \b $
		\item Die Menge der Nullteiler von $A$ ist gegeben durch $\bigcup_{ x \in A \backslash{0}} ann(x)$
	\end{itemize}
\end{anm}
\begin{bsp}
	$A = \Z, m,n \in \Z $ mit $(m,n) \neq (0) \Ra (m): (n) = (\frac{m}{ggt(m,n)})$.
\end{bsp}
\begin{df}
	Sei $\a \subseteq A$ ein Ideal. 
	\begin{itemize}
		\item[] $\sqrt{\a} := \{x \in A | \ \text{Es existiert ein } n \in \N \ \text{mit } x^n \in \a \} $ heißt das \define{Radikal} von $\a $. 
	\end{itemize}
\end{df}
\begin{anm} 
	\begin{itemize}
		\item $\sqrt{(0)} = \NN(A)$
		\item  Ist $\pi: A \to \QR{A}{\a} $ die kanonische Projektion, dann ist: \\
		$\sqrt{\a} = \{x \in A | \ \text{Es existiert ein } n \in \N \ \text{mit} \ x^n \in \a \} = \{x \in A| \pi(x) \in \NN(\QR{A}{\a})\} $ $$
		 = \pi^{-1}(\NN(\QR{A}{\a}))= \pi^{-1}(\bigcap_{\p \subseteq \QR{A}{\a} \atop \text{Primideal} } \p ) = \bigcap_{\p \subseteq A \atop \text{Primideal mit} \a \subseteq \p} \p  $$ \\
		Insbesondere ist $\sqrt{\a}$ ein Ideal.
	\end{itemize}
\end{anm}
\begin{df}
	Sei $B$ ein kommutativer Ring, $ f: A \to B $ ein Ringhomomorphimsus, $\a \subseteq A, \b \subseteq B $ Ideale. \\
	\begin{itemize}
		\item[] $\a^e := Bf(\a) = \{\sum_{endl.} b_i f(a_i)| b_i \in B, a_i \in \a \} $ heißt die \define{Erweiterung } von $\a$ auf $B$.
		\item[] $\b^c := f^{-1}(\b) $ heißt die \define{Kontraktion} von $\b$ auf A.
	\end{itemize}
\end{df}
\begin{anm}
	\begin{itemize}
		\item $\a^{e}, f^{c} $ sind Ideale in $B$ bzw. in $A$. 
		\item Wir können $f$ faktorisieren in $ A \xrightarrow{p} \im f \xhookrightarrow{\iota} B $. Die Situation für $p$ ist einfach die für $ \iota $ ist kompliziert. 
		\item $\q \in B $ Primideal $\Ra \q^{c} \subseteq A $ Primideal wegen $ \QR{A}{f^{-1}(\q)} \xhookrightarrow{} \underbrace{\QR{B}{\q}}_{\text{nullteilerfrei}}$ \\(beachte $f^{-1}(\q) = \q^c$)
		\item Ist $ \p \subseteq A $ ein Primideal, dann ist $ \p^e \subseteq B$ im Allgemeinen kein Primideal. ( Übung: $p$ Primzahl mit $p \equiv 1 (mod \ 4 )$. Unter $ f: \Z \to \Z[i] $ ist $(p)^e$ ein Produkt zweier verschiedener Primideale.)
		 % hier auch
	\end{itemize}
\end{anm}
\begin{bem} \label{11.12}
	Sei $B$ ein kommutativer Ring, $f: A \to B $ ein Ringhomomorphismus, $\a \subseteq A$ Ideal, $\b \subseteq B $ Ideal. Dann gilt: 
	\begin{enumerate} [label= \alph*)]
		\item $\a \subseteq \a^{ec} $
		\item $\a^e = \a^{ece}$
		\item $\b^{ce} \subseteq \b $
		\item $\b^{c} = \b^{cec}$ 
	\end{enumerate}
\end{bem}
\begin{proof}
	(a),(c) klar.  \\
	(b) $\a^e \subseteq (\a^{ec})^e , (\a^e)^{ce} \subseteq \a^e$ \\
	(d) analog. 
\end{proof}
\begin{sa} \label{11.13}
	Sei $B$ ein kommutativer Ring, $f: A \to B $ ein Ringhomomorphismus. \\
	$$C := \{ \a \subseteq A \ \text{Ideal} \ | \ \a \ \text{ist Kontraktion eines Ideals aus }B \} $$
	$$E:= \{\b \subseteq B \ \text{Ideal} \ | \ \b \ \text{ist Erweiterung eines Ideals aus } A\} $$. Dann gilt:
	\begin{enumerate} [label= \alph*)]
		\item $C=\{\a \subseteq A \ \text{Ideal} \ | \ \a^{ec} = \a \} $
		\item $E= \{\b \subseteq B \ \text{Ideal} \ |\ \b^{ce} = b\} $
		\item Die Abbildungen $$\Phi: C \to E, \quad \a \mapsto \a^e, \quad \quad \Psi: E \to C, \quad \b \mapsto \b^c $$ Sind zueinander inverserse, inklusionserhaltende Bijektionen.
	\end{enumerate}
\end{sa}
\begin{proof}
	\begin{enumerate} [label= \alph*)]
		\item "$\supseteq$" klar. "$\subseteq$" $\a \in C \Ra \text{es existiert ein } \b \subseteq B $ Ideal mit $ \a = \b^c \Ra \a^{ec} = \b^{cec} = \b^c \subseteq \a$ (letztes "$=$" per \ref{11.12}(d))
		\item analog 
		\item klar nach (a), (b).
	\end{enumerate}
\end{proof}
\begin{anm}
	Erinnerung an LA1: $T \in M(n \times n, A)$, dann existiert Komplementäre Matrix $T^{\#} \in M(n \times n, A)$ zu $T$. Es ist $T^{\#}T = TT^{\#} = det(T)E_n.$ (La1: Satz 17.20)
\end{anm}
\begin{sa} \label{11.14}
	Sei $M$ ein endlich erzeugter $A$-Modul, $\a \subseteq A $ ein Ideal,$\phi \in End_A(M)$ mit $ \phi(M) \subseteq \a M$. Dann existiert ein $ n \in N, a_0,...,a_{n-1} \in \a $ mit: 
	$$ \phi^{n} + a_{n-1}\phi^{n-1}+...+ a_1\phi + a_0id_M  = 0 $$
\end{sa} 
\begin{proof}
	Sei $x_1,...,x_n $ ein Erzeugendensystem von $M. \\
	\Ra \phi(x_i) \in \a M = \{ \sum_{endl.} \alpha_i y_i | \alpha_i \in \a, y_i \in M \},$ insbesondere existieren $a_{i1},...,a_{in} \in \a $ mit $ \phi(x_i) = \sum_{j=1}^{n} a_{ij} x_j$ (stelle $y_i$ als Linearkombination von $x_1,...,x_n$ dar). \\
	$\Ra \sum_{j=1}^{n} ( \delta_{ij}\phi - a_{ij}id_M)(x_j) = 0 $ für alle $i=1,...,n $. \\ Wir betrachten $ A[\phi] = \{b_n \phi^n + b_{n-1}\phi^{n-1} +...+b_1\phi + b_0 id_M \ | \ n \in \N_0, b_i \in A \} $. (kommutativer Unterring von $End_A(M); $ Konvention: $\phi^0 = id_M $). \\
	Setze $T:= ( \delta_{ij} \phi - a_{ij})_{ij} \in M(n \times n, A[\phi]). \ M $ wird via $ (\sum b_i \phi^i)x = \sum b_i \phi^i(x) $ zum $A[\phi]$-Modul. \\
	$$T \cdot \left( \begin{array}{c}x_1\\:\\ x_n\end{array} \right) = 0
	\Ra  0 = T^{\#}T \left( \begin{array}{c}x_1\\:\\ x_n\end{array} \right)= det(T)\left( \begin{array}{c}x_1\\:\\ x_n\end{array} \right) $$ da $x_1,...,x_n $ ein Erzeugendensytem von M ist folgt: $ det(T) x = 0 $ für alle $x \in M. \\
	\Ra det(T) = 0 $. \\
	Andererseits: $det(T) = det(\delta_{ij} \phi - a_{ij})_{ij}) = \phi^{n} + a_{n-1}\phi^{n-1}+...+ a_1\phi + a_0id_M $ mit $a_0,...,a_{n-1} \in \a $ nach Leibniz-Formel.
\end{proof}
\begin{fo} \label{11.15}
	Sei $M$ ein endlich erzeugter $A$-Modul, $\a \subseteq A $ ein Ideal, mit $\a M = M$. 
	Dann existiert ein $a \in A $ mit $ a = 1 (mod \ \a)$ mit $ aM = 0. $
\end{fo}
\begin{proof}
	Mit $ \phi = id_M$ ist $\phi(M) = M = \a M \Ra$ es existieren  $a_0,..,a_{n-1} \in \a$, sodass $0 = id_M^{n} + a_{n-1}id_M^{n-1}+...+ a_1\phi + a_0id_M, $ das heißt: 
	$ 0 = x + a_{n-1}x +...+ a_1x+a_0x = \underbrace{(1+ a_{n-1}+...+a_1 +a_0)}_{:=a} x \Ra a \equiv 1 \text{mod} \  \a, ax =0 $
\end{proof}
\begin{sa} \label{11.16}
	(Nakayama-Lemma)\\
	Sei $ A $ ein lokaler Ring mit maximalen Ideal $\m$, $M$ ein endlich erzeugter $A$-Modul, $ \QR{M}{\m M } = 0$. Dann ist $ M = 0$. 
\end{sa}
\begin{proof}
	 $ \QR{M}{\m M } = 0 \Ra M = \m M$ mit \ref{11.15} folgt: es existiert ein $a \in A, a \equiv 1 (\text{mod} \ \m) $ mit $ aM = 0 $. Wegen  $a \equiv 1 (\text{mod} \ \m ) $ ist $ a \in A^{*} $ wegen \ref{11.2} $\Ra M = 0 $. 
\end{proof}
\begin{fo} \label{11.17}
	Sei $A$ ein lokaler Ring mit maximalen Ideal $ \m$, $M$ ein endlich erzeugter $A$-Modul, $N \subseteq M $ Untermodul mit $ M = \m M + N $. Dann ist $M = N $.
\end{fo}
\begin{proof}
	Es ist $ \m(\QR{M}{N}) = \QR{(\m M + N)}{N} = \QR{M}{N}$ mit dem Nakayama-Lemma folgt: $\QR{M}{N} = 0 \Ra M = N. $
\end{proof}
\begin{fo} \label{11.18}
	Sei $A$ ein lokaler Ring mit maximalen Ideal $\m$, $M$ ein endlcih erzeugter $A$-Modul, $x_1,...,x_n \in M $. Dann sind äquivalent: 
	\begin{enumerate} [label= \roman*)]
		\item $x_1, \dots ,x_n $ ist ein Erzeugendensystem von M 
		\item Die Bilder $ \bar{x_1},\dots ,\bar{x_n} $ von $x_1,\dots ,x_n$ in $\QR{M}{\m M } $ erzeugen den $\QR{A}{\m} $-VR \ $\QR{M}{\m M}$
	\end{enumerate}
\end{fo}
\begin{proof}
	(i)$\Ra $(ii)  klar. \\
	(ii)$\Ra$(i) Setze $N:= \sum_{i = 1}^{n} A x_i.$ Nach Voraussetzung ist $ \QR{(N + \m M )}{\m M} = \QR{M}{\m M} \Ra N + \m M  = M. $ Mit \ref{11.17} folgt: $N=M$.
\end{proof}
\begin{anm}
	Wichtig: $M$ endlich erzeugt ist eine Voraussetzung in \ref{11.18}.
\end{anm}


